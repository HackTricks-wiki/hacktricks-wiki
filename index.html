<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>HackTricks Search</title>

<style>
    body {
        margin: 0;
        padding: 0;
        background: linear-gradient(to bottom right, #000000, #111111);
        font-family: "Helvetica Neue", Arial, sans-serif;
        color: #fff;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        min-height: 100vh;
    }

    .logo-container {
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 2rem;
        margin-bottom: 1rem;
        flex-wrap: wrap;
        text-align: center;
    }

    .logo {
        width: 150px;
        height: auto;
        max-width: 40vw; /* Ensures logo fits on small screens */
    }

    h1 {
        font-size: 2rem;
        margin-bottom: 2rem;
        text-align: center;
    }

    .light-grey {
        color: #ccc;
    }

    .hacktricks-text {
        color: #c62828; /* darker red */
    }

    .cloud-text {
        color: #1976D2; /* a slightly darker blue */
    }

    form {
        display: flex;
        flex-direction: column;
        align-items: center;
        background: #1a1a1a;
        border-radius: 8px;
        padding: 2rem;
        box-shadow: 0 5px 15px rgba(0,0,0,0.5);
        width: 90%;
        max-width: 600px;
        box-sizing: border-box;
    }

    input[type="text"] {
        padding: 1rem;
        border: 2px solid #c62828; /* darker red */
        outline: none;
        width: 100%;
        background: #000000;
        color: #fff;
        font-size: 1.2rem;
        border-radius: 4px;
        box-sizing: border-box;
    }

    .buttons {
        margin-top: 1.5rem;
        display: flex;
        gap: 1rem;
        flex-wrap: wrap;
        justify-content: center;
        width: 100%;
    }

    .buttons button {
        padding: 0.8rem 1.5rem;
        border: none;
        background: #c62828; /* darker red */
        color: #fff;
        font-size: 1rem;
        cursor: pointer;
        transition: background 0.3s;
        border-radius: 4px;
        flex: 1 1 auto;
        max-width: 200px;
        text-align: center;
    }

    .buttons button:hover {
        background: #b71c1c; /* even darker on hover */
    }

    **.buttons button[value="hacktricks-cloud"] {
        background: #1976D2; /* Blue background for HackTricks Cloud */
    }

    .buttons button[value="hacktricks-cloud"]:hover {
        background: #1565C0; /* Slightly darker blue on hover */
    }**

    @media (max-width: 600px) {
        h1 {
            font-size: 1.5rem;
        }

        .logo {
            width: 100px;
        }

        input[type="text"] {
            font-size: 1rem;
        }

        .buttons button {
            font-size: 0.9rem;
            padding: 0.8rem;
        }
    }
</style>
</head>
<body>

<div class="logo-container">
    <img src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNv..." alt="HackTricks Logo" class="logo" />
    <img src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNv..." alt="HackTricks Cloud Logo" class="logo" />
</div>

<h1>
    <span class="light-grey">Search in </span>
    <span class="hacktricks-text">HackTricks</span>
    <span class="light-grey">&amp;</span>
    <span class="cloud-text">HackTricks Cloud</span>
</h1>

<form id="searchForm">
    <input type="text" id="searchInput" placeholder="Search within HackTricks..." />
    <div class="buttons">
        <button type="submit" name="engine" value="hacktricks">HackTricks</button>
        <button type="submit" name="engine" value="hacktricks-cloud">HackTricks Cloud</button>
        <button type="submit" name="engine" value="bing">Bing</button>
    </div>
</form>

<script>
    document.getElementById('searchForm').addEventListener('submit', function(e) {
        e.preventDefault();
        const userQuery = document.getElementById('searchInput').value.trim();
        const engine = e.submitter.value;
        const filter = 'site:hacktricks.wiki';
        
        let actionUrl;
        let input_name;
        let input_value;

        if (engine === 'hacktricks') {
            actionUrl = 'https://book.hacktricks.wiki/en/index.html';
            input_name = 'search';
            input_value = userQuery;
        } 
        else if (engine === 'hacktricks-cloud') {
            actionUrl = 'https://cloud.hacktricks.wiki/en/index.html';
            input_name = 'search';
            input_value = userQuery;
        }
        else {
            actionUrl = 'https://www.bing.com/search';
            input_name = 'q';
            input_value = filter + ' ' + userQuery;
        }

        // Create a hidden form to submit to the appropriate engine
        const form = document.createElement('form');
        form.action = actionUrl;
        form.method = 'get';

        const input = document.createElement('input');
        input.type = 'hidden';
        input.name = input_name;
        input.value = input_value;
        form.appendChild(input);

        document.body.appendChild(form);
        form.submit();
    });
</script>

</body>
</html>
